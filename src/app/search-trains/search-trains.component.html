<section class="main-sec">
  <div class="train-search-form">
    <h2 class="train-search-title">Find Your Train Schedule</h2>


    <div class="form-options">
      <div class="from-to-buttons-wrapper">

        <div class="from-destination-wrapper">
          <app-destination-select (cityChange)="getCity($event, 'From')" #destinationFrom [purpose]="'From'"
            id="app-destination-select-from"></app-destination-select>
        </div>
        <div class="to-destination-wrapper">
          <app-destination-select (cityChange)="getCity($event, 'To')" #destinationTo [purpose]="'To'"
            id="app-destination-select-to"></app-destination-select>
        </div>
      </div>

      <app-week-day-select class="dissapearing-input-on-615" (dayChange)="getDepartureDay($event)" [purpose]="'Departure day'"></app-week-day-select>
      <app-datepicker class="dissapearing-input-on-615" #dateDeparture [purpose]="'departure'"></app-datepicker>
      <app-datepicker class="dissapearing-input-on-615" #dateReturn [purpose]="'return'"></app-datepicker>

      <div class="dates-wrapper">
        <app-week-day-select (dayChange)="getDepartureDay($event)" [purpose]="'Departure day'"></app-week-day-select>
        <app-datepicker #dateDeparture [purpose]="'departure'"></app-datepicker>
        <app-datepicker #dateReturn [purpose]="'return'"></app-datepicker>
      </div>

      


      <button class="submit-btn" (click)="onSubbmit()"><i class="bi bi-search"></i></button>
    </div>
    <!-- <button (click)="onSubbmit()">Test ahh shit</button> -->
  </div>

  <!-- @for (train of trains; track $index) {
      <app-train-tickets [trainData]="train"></app-train-tickets>
    } -->
  
  <ng-container *ngIf="filteredTrains.length == 0; then noTrainsFound else foundTrains"></ng-container>

  <ng-template #foundTrains>
    <div class="response-trains">
      <app-train-tickets *ngFor="let train of filteredTrains" [trainData]="train">
      </app-train-tickets>
    </div>
  </ng-template>

  <ng-template #noTrainsFound>
    <div class="nothing-found-div">
      <h1 class="trains-not-found">No trains found yet...</h1>
      
      <video class="train-go-video" autoplay loop muted playsinline>
        <source src="/train-go-animation.webm" type="video/webm">
        Your browser does not support the video tag.
      </video>
    </div>
  </ng-template>

</section>